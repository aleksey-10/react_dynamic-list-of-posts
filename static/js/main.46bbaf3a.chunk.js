(this["webpackJsonpreact_dynamic-list-of-posts"]=this["webpackJsonpreact_dynamic-list-of-posts"]||[]).push([[0],{14:function(e,t,a){e.exports=a(31)},19:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(11),l=a.n(r),s=(a(19),a(13)),i=a(1),m=a.n(i),o=a(6),u=a(5),p=a(3),d=a(12),E=a.n(d),f=function(){var e=Object(u.a)(m.a.mark((function e(t){var a,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://mate-academy.github.io/react_dynamic-list-of-posts/api/".concat(t,".json"));case 2:return a=e.sent,e.next=5,a.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){return n.a.createElement("div",{className:"preloader-wrapper medium active"},n.a.createElement("div",{className:"spinner-layer spinner-blue"},n.a.createElement("div",{className:"circle-clipper left"},n.a.createElement("div",{className:"circle"})),n.a.createElement("div",{className:"gap-patch"},n.a.createElement("div",{className:"circle"})),n.a.createElement("div",{className:"circle-clipper right"},n.a.createElement("div",{className:"circle"}))),n.a.createElement("div",{className:"spinner-layer spinner-red"},n.a.createElement("div",{className:"circle-clipper left"},n.a.createElement("div",{className:"circle"})),n.a.createElement("div",{className:"gap-patch"},n.a.createElement("div",{className:"circle"})),n.a.createElement("div",{className:"circle-clipper right"},n.a.createElement("div",{className:"circle"}))),n.a.createElement("div",{className:"spinner-layer spinner-yellow"},n.a.createElement("div",{className:"circle-clipper left"},n.a.createElement("div",{className:"circle"})),n.a.createElement("div",{className:"gap-patch"},n.a.createElement("div",{className:"circle"})),n.a.createElement("div",{className:"circle-clipper right"},n.a.createElement("div",{className:"circle"}))),n.a.createElement("div",{className:"spinner-layer spinner-green"},n.a.createElement("div",{className:"circle-clipper left"},n.a.createElement("div",{className:"circle"})),n.a.createElement("div",{className:"gap-patch"},n.a.createElement("div",{className:"circle"})),n.a.createElement("div",{className:"circle-clipper right"},n.a.createElement("div",{className:"circle"}))))},N=function(e){var t=e.body,a=e.name,c=e.email;return n.a.createElement("li",{className:"post__comment"},n.a.createElement("a",{href:"mailto:".concat(c),className:"post__email"},c.toLowerCase()),n.a.createElement("h6",null,a),n.a.createElement("p",null,t))},b=function(e){var t=e.title,a=e.body,c=e.user,r=e.comments;return n.a.createElement("li",{className:"post"},n.a.createElement("div",{className:"post__author"},n.a.createElement("p",{className:"red-text"},n.a.createElement("strong",null,c.name)),n.a.createElement("a",{href:"mailto:".concat(c.email),className:"post__email"},c.email.toLowerCase())),n.a.createElement("div",{className:"post__content"},n.a.createElement("h3",null,t),n.a.createElement("p",{className:"flow-text"},a),n.a.createElement("ul",null,r.map((function(e){return n.a.createElement(N,{key:e.id,body:e.body,name:e.name,email:e.email})})))))},h=function(e){var t=e.posts;return n.a.createElement("ul",null,t.map((function(e){return n.a.createElement(b,{key:e.id,user:e.user,title:e.title,body:e.body,comments:e.comments})})))},y=function(e){var t=e.handleChange;return n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"filterField"},"Filter by title and body"),n.a.createElement("input",{type:"text",id:"filterField",className:"validate",placeholder:"Input here...",onChange:function(e){return t(e.target.value)}}))},g=function(){var e=Object(c.useState)(!1),t=Object(p.a)(e,2),a=t[0],r=t[1],l=Object(c.useState)(!1),i=Object(p.a)(l,2),d=i[0],N=i[1],b=Object(c.useState)([]),g=Object(p.a)(b,2),j=g[0],_=g[1],O=Object(c.useState)([]),w=Object(p.a)(O,2),x=w[0],k=w[1],C=function(){var e=Object(u.a)(m.a.mark((function e(){var t,a,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.next=3,f("users");case 3:return t=e.sent,e.next=6,f("posts");case 6:return a=e.sent,e.next=9,f("comments");case 9:c=e.sent,_(a.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{user:t.find((function(t){return t.id===e.userId})),comments:c.filter((function(t){return t.postId===e.id}))})}))),N(!0);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){k(Object(s.a)(j))}),[j]);var F=E()((function(e){k(j.filter((function(t){return t.title.includes(e)||t.body.includes(e)})))}),1e3);return d?n.a.createElement(n.a.Fragment,null,n.a.createElement("form",{className:"form"},n.a.createElement(y,{handleChange:F})),n.a.createElement(h,{posts:x})):n.a.createElement("div",{className:"control"},n.a.createElement("button",{type:"button",className:"btn btn-large red control__button",onClick:C},"Load"),a&&n.a.createElement(v,null))},j=function(){return n.a.createElement("div",{className:"container"},n.a.createElement("h1",null,"Dynamic list of posts"),n.a.createElement(g,null))};a(30);l.a.render(n.a.createElement(j,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.46bbaf3a.chunk.js.map