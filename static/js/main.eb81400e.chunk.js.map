{"version":3,"sources":["api/api.ts","components/common/Preloader/Preloader.tsx","components/CommentItem/CommentItem.tsx","components/PostItem/PostItem.tsx","components/PostsList/PostsList.tsx","components/FilterField/FilterField.tsx","components/Posts/Posts.tsx","App.tsx","index.tsx"],"names":["fetchData","name","a","fetch","response","json","data","Preloader","className","CommentItem","body","email","href","toLowerCase","PostItem","title","user","comments","map","comment","key","id","PostsList","posts","post","FilterField","handleChange","htmlFor","type","placeholder","onChange","event","target","value","Posts","useState","isLoading","setLoading","isFetched","setFetched","setPosts","visiblePosts","setVisiblePosts","load","users","postsFromServer","find","person","userId","filter","postId","useEffect","debounce","includes","onClick","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.eb81400e.chunk.js","sourcesContent":["export const fetchData = async <T>(name: string): Promise<T[]> => {\n  const response = await fetch(`https://mate-academy.github.io/react_dynamic-list-of-posts/api/${name}.json`);\n  const data = await response.json();\n\n  return data;\n};\n","import React, { FC } from 'react';\n\nexport const Preloader: FC = () => (\n  <div className=\"preloader-wrapper medium active\">\n    <div className=\"spinner-layer spinner-blue\">\n      <div className=\"circle-clipper left\">\n        <div className=\"circle\" />\n      </div>\n      <div className=\"gap-patch\">\n        <div className=\"circle\" />\n      </div>\n      <div className=\"circle-clipper right\">\n        <div className=\"circle\" />\n      </div>\n    </div>\n\n    <div className=\"spinner-layer spinner-red\">\n      <div className=\"circle-clipper left\">\n        <div className=\"circle\" />\n      </div>\n      <div className=\"gap-patch\">\n        <div className=\"circle\" />\n      </div>\n      <div className=\"circle-clipper right\">\n        <div className=\"circle\" />\n      </div>\n    </div>\n\n    <div className=\"spinner-layer spinner-yellow\">\n      <div className=\"circle-clipper left\">\n        <div className=\"circle\" />\n      </div>\n      <div className=\"gap-patch\">\n        <div className=\"circle\" />\n      </div>\n      <div className=\"circle-clipper right\">\n        <div className=\"circle\" />\n      </div>\n    </div>\n\n    <div className=\"spinner-layer spinner-green\">\n      <div className=\"circle-clipper left\">\n        <div className=\"circle\" />\n      </div>\n      <div className=\"gap-patch\">\n        <div className=\"circle\" />\n      </div>\n      <div className=\"circle-clipper right\">\n        <div className=\"circle\" />\n      </div>\n    </div>\n  </div>\n);\n","import React from 'react';\n\ninterface Props {\n  body: string;\n  name: string;\n  email: string;\n}\n\nexport const CommentItem: React.FC<Props> = ({ body, name, email }) => (\n  <li className=\"post__comment\">\n    <a href={`mailto:${email}`} className=\"post__email\">\n      {email.toLowerCase()}\n    </a>\n    <h6>{name}</h6>\n    <p>{body}</p>\n  </li>\n);\n","import React, { FC } from 'react';\nimport { User } from '../../interfaces/User';\nimport { Comment } from '../../interfaces/Comment';\nimport { CommentItem } from '../CommentItem';\n\ninterface Props {\n  title: string;\n  body: string;\n  user: User;\n  comments: Comment[];\n}\n\nexport const PostItem: FC<Props> = ({\n  title,\n  body,\n  user,\n  comments,\n}) => (\n  <li className=\"post\">\n    <div className=\"post__author\">\n      <p className=\"red-text\">\n        <strong>\n          {user.name}\n        </strong>\n      </p>\n      <a href={`mailto:${user.email}`} className=\"post__email\">\n        {user.email.toLowerCase()}\n      </a>\n    </div>\n    <div className=\"post__content\">\n      <h3>{title}</h3>\n      <p className=\"flow-text\">{body}</p>\n      <ul>\n        {\n          comments.map(comment => (\n            <CommentItem\n              key={comment.id}\n              body={comment.body}\n              name={comment.name}\n              email={comment.email}\n            />\n          ))\n        }\n      </ul>\n    </div>\n  </li>\n);\n","import React, { FC } from 'react';\nimport { Post } from '../../interfaces/Post';\nimport { PostItem } from '../PostItem';\n\ninterface Props {\n  posts: Post[];\n}\n\nexport const PostsList: FC<Props> = ({ posts }) => {\n  return (\n    <ul>\n      {\n        posts.map((post) => (\n          post.user && (\n            <PostItem\n              key={post.id}\n              user={post.user}\n              title={post.title}\n              body={post.body}\n              comments={post.comments || []}\n            />\n          )\n        ))\n      }\n    </ul>\n  );\n};\n","import React, { FC } from 'react';\n\ninterface Props {\n  handleChange(value: string): void;\n}\n\nexport const FilterField: FC<Props> = ({ handleChange }) => (\n  <div>\n    <label htmlFor=\"filterField\">\n      Filter by title and body\n    </label>\n    <input\n      type=\"text\"\n      id=\"filterField\"\n      className=\"validate\"\n      placeholder=\"Input here...\"\n      onChange={(event: React.ChangeEvent<HTMLInputElement>) => (\n        handleChange(event.target.value)\n      )}\n    />\n  </div>\n);\n","import React, { useState, useEffect, FC } from 'react';\nimport debounce from 'lodash/debounce';\nimport { fetchData } from '../../api/api';\nimport { Preloader } from '../common/Preloader';\nimport { PostsList } from '../PostsList';\nimport { Post } from '../../interfaces/Post';\nimport { User } from '../../interfaces/User';\nimport { Comment } from '../../interfaces/Comment';\nimport { FilterField } from '../FilterField/FilterField';\n\nexport const Posts: FC = () => {\n  const [isLoading, setLoading] = useState(false);\n  const [isFetched, setFetched] = useState(false);\n  const [posts, setPosts] = useState<Post[]>([]);\n  const [visiblePosts, setVisiblePosts] = useState<Post[]>([]);\n\n  const load = async () => {\n    setLoading(true);\n\n    const users = await fetchData<User>('users');\n    const postsFromServer = await fetchData<Post>('posts');\n    const comments = await fetchData<Comment>('comments');\n\n    setPosts(postsFromServer.map((post) => ({\n      ...post,\n      user: users.find((person) => person.id === post.userId),\n      comments: comments.filter((comment) => comment.postId === post.id),\n    })));\n\n    setFetched(true);\n  };\n\n  useEffect(() => {\n    setVisiblePosts([...posts]);\n  }, [posts]);\n\n  const handleChange = debounce((value: string) => {\n    setVisiblePosts(posts\n      .filter((post) => (\n        post.title.includes(value) || post.body.includes(value)\n      )));\n  }, 1000);\n\n  if (!isFetched) {\n    return (\n      <div className=\"control\">\n        <button\n          type=\"button\"\n          className=\"btn btn-large red control__button\"\n          onClick={load}\n        >\n          Load\n        </button>\n        {\n          isLoading && <Preloader />\n        }\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <form className=\"form\">\n        <FilterField handleChange={handleChange} />\n      </form>\n      <PostsList posts={visiblePosts} />\n    </>\n  );\n};\n","import React from 'react';\nimport './App.css';\nimport { Posts } from './components/Posts';\n\nconst App: React.FC = () => (\n  <div className=\"container\">\n    <h1>Dynamic list of posts</h1>\n    <Posts />\n  </div>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\nimport 'materialize-css/dist/css/materialize.min.css';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}